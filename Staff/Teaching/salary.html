<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
        <title>Teacher Panel</title>
        <link rel="stylesheet" href="Teacherpanel.css">
    </head>
    <body style="display: contents;">
        <div class="main-container">
            <div class="left-container">
                <div class="teacher-info">
                    <div class="teacher-name">
                        <h1>Teacher Name</h1>
                    </div>
                    <div class="teacher-email">
                        <h2>Teacher Email</h2>
                    </div>
                    <div class="teacher-ID">
                        <h2>Teacher ID</h2>
                    </div>
                    <div class="teacher-phone">
                        <h3>Teacher Phone</h3>
                    </div>
                </div>
                <div class="nav-sidebar">
                    <nav>
                        <a href="classes.html">Classes</a>
                        <a href="timetable.html">Time Table</a>
                        <a href="marks.html">Marks</a>
                        <a href="attendance.html">Attendance</a>
                        <a href="leaves.html">Leaves</a>
                        <a href="salary.html" class="active" id="salary-link">Salary</a>
                        <a href="businfo.html">Bus Info</a>
                        <a href="">Log Out</a>
                    </nav>
                </div>
                <div class="bottom-block">
                  <div class="school-name">
                    <h2>School Name</h2>
                  </div>
                  <div class="school-trademark">
                    <p>Copyright <span><strong>&copy;</strong></span> 2024 LTW</p>
                  </div>
                </div>
            </div>
            <div class="right-container">
                <div class="classes-top-bar">
                    <h1>Teacher Portal - Salary</h1>  
                </div>
                <div class="main-content">
                    <div class="teacher-salary">
                        <button type="button" class="collapsible">May - 2024</button>
                        <div class="class-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Gross Salary</td>
                                        <td>₹ 40,000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Tax Deductions</td>
                                        <td>₹ 2000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Health Insurance</td>
                                        <td>₹ 1000.00</td>
                                    </tr>
                                    
                                    <tr>
                                        <td>Deduction Due To Extra Leaves</td>
                                        <td>₹ 1000</td>
                                    </tr>
                                    <tr class="total">
                                        <td>Net Salary</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <button type="button" class="collapsible">August - 2024</button>
                        <div class="class-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Gross Salary</td>
                                        <td>₹ 40,000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Tax Deductions</td>
                                        <td>₹ 2000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Health Insurance</td>
                                        <td>₹ 1000.00</td>
                                    </tr>
                                    <tr class="total">
                                        <td>Net Salary</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <button type="button" class="collapsible">September - 2024</button>
                        <div class="class-content"></div>
                        <button type="button" class="collapsible">October - 2024</button>
                        <div class="class-content"></div>
                        <button type="button" class="collapsible">November - 2024</button>
                        <div class="class-content"></div>
                        <button type="button" class="collapsible">December - 2024</button>
                        <div class="class-content"></div>
                        <button type="button" class="collapsible">January - 2024</button>
                        <div class="class-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Gross Salary</td>
                                        <td>₹ 40,000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Tax Deductions</td>
                                        <td>₹ 2000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Health Insurance</td>
                                        <td>₹ 1000.00</td>
                                    </tr>
                                    <tr class="total">
                                        <td>Net Salary</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <button type="button" class="collapsible">February - 2024</button>
                        <div class="class-content"></div>
                        <button type="button" class="collapsible">March - 2024</button>
                        <div class="class-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Gross Salary</td>
                                        <td>₹ 40,000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Tax Deductions</td>
                                        <td>₹ 2000.00</td>
                                    </tr>
                                    <tr>
                                        <td>Health Insurance</td>
                                        <td>₹ 1000.00</td>
                                    </tr>
                                    <tr class="total">
                                        <td>Net Salary</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <button type="button" class="collapsible">April - 2024</button>
                        <div class="class-content"></div>
                    </div>
                </div>
            </div>
        </div>
        <!--This is for scrolling in the nav-->
        <script>
            const nav = document.querySelector('nav');
    
            nav.addEventListener('scroll', () => {
                nav.classList.add('scrolling');
            });
    
            nav.addEventListener('mouseleave', () => {
                nav.classList.remove('scrolling');
            });
    
            nav.addEventListener('mouseover', () => {
                nav.classList.add('scrolling');
            });
        </script>
        <!--This java script is for collapsible content-->
        <script>
        var coll = document.getElementsByClassName("collapsible");
        var i;
        
        for (i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
              content.style.display = "none";
            } else {
              content.style.display = "block";
            }
          });
        }
        
        // Get all table cells with amounts
        const amountCells = document.querySelectorAll('td:nth-child(2)');

        // Loop through each cell and format the amount
        amountCells.forEach(cell => {
          const amountText = cell.textContent.replace('₹', ''); // Remove the rupee symbol
          const amount = parseFloat(amountText.replace(',', '')); // Remove commas and convert to number
          const formattedAmount = amount.toLocaleString(); // Add commas
          cell.textContent = '₹' + formattedAmount; // Add the rupee symbol back
        });
        </script>
        <!--This is for scrolling to the active li element-->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const activeLink = document.querySelector("a.active");
                if (activeLink) {
                    const linkId = activeLink.id;
                    const linkElement = document.getElementById(linkId);
                    linkElement.scrollIntoView({ behavior: "smooth" });
                }
            });
        </script>
    <script>
// Get all table rows with amounts
const tableRows = document.querySelectorAll('tbody tr');

// Loop through each row and calculate the net salary
tableRows.forEach((row) => {
  const amountCells = row.querySelectorAll('td:nth-child(2)');
  let grossSalary = 0;
  let deductions = 0;
  let netSalary = 0;

  // Calculate gross salary and deductions
  amountCells.forEach((cell, index) => {
    const amountText = cell.textContent.replace('₹', ''); // Remove the rupee symbol
    const amount = parseFloat(amountText.replace(',', '')); // Remove commas and convert to number
    if (index === 0) {
      grossSalary = amount;
    } else if (index === amountCells.length - 1) {
      // Skip the last cell (Net Salary)
    } else {
      deductions += amount;
    }
  });

  // Calculate net salary
  netSalary = grossSalary - deductions;

  // Format and display the net salary
  const netSalaryCell = row.querySelector('td.total');
  if (netSalaryCell) {
    const formattedNetSalary = netSalary.toLocaleString();
    netSalaryCell.textContent = `₹ ${formattedNetSalary}`;
  }
});
    </script>
    
    </body>
</html>